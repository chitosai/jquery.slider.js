(function(){var slider=function(){};slider.params={width:'auto',height:'auto',animateDuration:400,delay:3000,autoStart:true,pauseOnHover:true,pagiEvent:'mouseenter'}slider.prototype.init=function(node,params){var self=this;this.params=$.extend({},slider.params,params);this.node=node.css('overflow','hidden');if(this.node.css('position')=='static'){this.node.css('position','relative')}this.tabs=node.children().css({'position':'absolute','top':0});this.length=this.tabs.length;this.stage=$('<div class="slider-stage">').append(this.tabs).appendTo(this.node);this.width=this.params.width=='auto'?this.node.width():this.params.width;this.height=this.params.height=='auto'?this.node.height():this.params.height;this.stage.css({'position':'absolute','width':this.width,'height':this.height});for(var i=0;i<this.length;i++){this.tabs.eq(i).css('left',i*this.width)}this.pagi=$('<div class="slider-pagi">')for(var i=0;i<this.length;i++){$('<span class="slider-control">').attr('index',i).appendTo(this.pagi)}this.controls=this.pagi.children();this.controls.on(this.params.pagiEvent,function(){var i=+$(this).attr('index');self.moveTo(i)});this.controls.eq(0).active();this.pagi.appendTo(this.node);this.current=0;if(this.params.autoStart){this.play()}if(this.params.pauseOnHover){this.node.hover(function(){self.stop()},function(){self.play()})}return this}slider.prototype.moveTo=function(target){if(target<0)target+=this.length;target%=this.length;this.stage.animate({'left':'-'+this.width*target+'px'},this.params.animateDuration);this.controls.deactive().eq(target).active();this.current=target}slider.prototype.prev=function(){this.moveTo(--this.current)}slider.prototype.next=function(){this.moveTo(++this.current)}slider.prototype.play=function(){var self=this;clearInterval(this.interval);this.interval=setInterval(function(){self.moveTo(++self.current)},this.params.delay)}slider.prototype.stop=function(){clearInterval(this.interval)}$.fn.slider=function(params){return new slider().init(this,params)}})();